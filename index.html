<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Our Infinite Universe</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap');

:root {
--neon-pink: #ff2d75;
--deep-purple: #0f001a;
--black: #050505;
--glass: rgba(255, 255, 255, 0.07);
}

* { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body { 
background-color: var(--black); 
color: white; 
font-family: 'Poppins', sans-serif; 
min-height: 100vh;
width: 100%;
overflow-x: hidden;
}

/* --- BACKGROUNDS --- */
#starfield {
position: fixed;
top: 0; left: 0; z-index: -1;
background: radial-gradient(circle at center, var(--deep-purple) 0%, var(--black) 100%);
width: 100%; height: 100%;
}

#glow {
position: fixed;
width: 300px; height: 300px;
background: radial-gradient(circle, rgba(255, 45, 117, 0.2) 0%, transparent 70%);
border-radius: 50%;
pointer-events: none;
transform: translate(-50%, -50%);
z-index: 0;
}

.petal {
position: fixed;
top: -50px;
z-index: 100;
pointer-events: none;
animation: fall 5s linear forwards;
}

@keyframes fall {
to { transform: translateY(105vh) rotate(360deg); opacity: 0; }
}

/* --- PAGES --- */
.page {
width: 100%;
min-height: 100vh;
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
padding: 20px;
transition: all 0.8s ease;
}

#page2 { display: none; opacity: 0; overflow-y: visible; }

/* --- PAGE 1 UI --- */
h1.main-q {
font-family: 'Dancing Script', cursive;
font-size: clamp(2.5rem, 10vw, 5rem);
background: linear-gradient(to right, #fff, var(--neon-pink));
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
filter: drop-shadow(0 0 10px var(--neon-pink));
text-align: center;
line-height: 1.2;
margin-bottom: 2rem;
}

.btn-wrap { 
position: relative; 
width: 100%; 
max-width: 300px; 
height: 120px; 
display: flex;
justify-content: center;
align-items: center;
}

.btn {
padding: 15px 35px;
font-size: 1.1rem;
border: 2px solid var(--neon-pink);
background: transparent;
color: white;
border-radius: 50px;
cursor: pointer;
font-weight: bold;
transition: 0.3s;
white-space: nowrap;
}

#yesBtn { background: var(--neon-pink); box-shadow: 0 0 20px var(--neon-pink); z-index: 2;}
#noBtn { position: absolute; right: 0; z-index: 1; }

/* --- PAGE 2 UI --- */
.container {
max-width: 600px;
width: 100%;
background: var(--glass);
backdrop-filter: blur(15px);
-webkit-backdrop-filter: blur(15px);
border: 1px solid rgba(255,255,255,0.1);
border-radius: 30px;
padding: 40px 20px;
text-align: center;
margin: 60px 0;
}

.polaroid {
width: 220px;
height: 280px;
background: white;
padding: 10px 10px 40px 10px;
box-shadow: 0 10px 30px rgba(0,0,0,0.5);
margin: -80px auto 30px;
transform: rotate(-3deg);
}
.polaroid img { width: 100%; height: 100%; object-fit: cover; }

.timer-grid { 
display: grid; 
grid-template-columns: repeat(2, 1fr); 
gap: 10px; 
margin: 20px 0; 
}
@media (min-width: 480px) {
.timer-grid { grid-template-columns: repeat(4, 1fr); }
}

.unit { background: rgba(255,45,117,0.1); padding: 10px; border-radius: 10px; border: 1px solid var(--neon-pink); }
.num { font-size: 1.4rem; font-weight: bold; color: var(--neon-pink); display: block; }

.scratch-box {
width: 250px; height: 250px;
margin: 30px auto;
position: relative;
border: 2px solid var(--neon-pink);
background: #111;
border-radius: 10px;
overflow: hidden;
touch-action: none; /* Critical for mobile scratching */
}
#scratch-canvas { position: absolute; top: 0; left: 0; z-index: 2; width: 100%; height: 100%; }
#secret-img { width: 100%; height: 100%; object-fit: cover; }

.big-letter {
font-size: 1rem;
line-height: 1.8;
text-align: justify;
color: #ddd;
margin-top: 30px;
}

h2.date-title { font-family: 'Dancing Script', cursive; font-size: 2.2rem; color: var(--neon-pink); margin-top: 10px;}
</style>
</head>
<body>

<canvas id="starfield"></canvas>
<div id="glow"></div>
<audio id="music" loop><source src="music.mp3" type="audio/mpeg"></audio>

<div id="page1" class="page">
<h1 class="main-q">Will you be my Valentine?</h1>
<div class="btn-wrap">
<button class="btn" id="yesBtn">YES</button>
<button class="btn" id="noBtn">No</button>
</div>
</div>

<div id="page2" class="page">
<div class="container">
<div class="polaroid">
<img src="main.jpg" alt="Our Story">
<p style="color: #333; font-family: 'Dancing Script'; margin-top: 5px; font-size: 1.2rem;">Us üì∏</p>
</div>

<h2 class="date-title">March 25, 2021</h2>

<div class="timer-grid">
<div class="unit"><span class="num" id="d">0</span> Days</div>
<div class="unit"><span class="num" id="h">0</span> Hrs</div>
<div class="unit"><span class="num" id="m">0</span> Mins</div>
<div class="unit"><span class="num" id="s">0</span> Secs</div>
</div>

<h3 style="margin-top: 30px; font-size: 1.1rem;">Scratch to Reveal... üîç</h3>
<div class="scratch-box">
<canvas id="scratch-canvas"></canvas>
<img src="secret.jpg" id="secret-img" alt="Secret Photo">
</div>

<div class="big-letter">
<p>
My Dearest, <br><br>
Since <b>March 25, 2021</b>, my world has been infinitely brighter. You aren't just my partner; you are my best friend, my peace, and my greatest motivator. 
I love the way we‚Äôve grown together‚Äîhow we‚Äôve handled the highs and lows, and how your smile still gives me butterflies after all this time. <br><br>
Whether we're talking for hours or just sitting in comfortable silence, my heart is always at its happiest when I'm with you. 
Thank you for being you, for your beautiful heart, and for saying yes.
</p>
<h2 style="color: var(--neon-pink); font-family: 'Dancing Script'; margin-top: 30px; font-size: 2.5rem; text-align: center;">Always yours.</h2>
</div>
</div>
</div>

<script>
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
const yesBtn = document.getElementById('yesBtn');
const noBtn = document.getElementById('noBtn');
const p1 = document.getElementById('page1');
const p2 = document.getElementById('page2');
const song = document.getElementById('music');

function triggerHaptics() {
if ("vibrate" in navigator) navigator.vibrate([100, 30, 200]);
const osc = audioCtx.createOscillator();
const gain = audioCtx.createGain();
osc.frequency.setValueAtTime(150, audioCtx.currentTime);
osc.frequency.exponentialRampToValueAtTime(40, audioCtx.currentTime + 0.5);
gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.5);
osc.connect(gain); gain.connect(audioCtx.destination);
osc.start(); osc.stop(audioCtx.currentTime + 0.5);
}

document.addEventListener('mousemove', e => {
const glow = document.getElementById('glow');
glow.style.left = e.clientX + 'px';
glow.style.top = e.clientY + 'px';
});

noBtn.onmouseover = noBtn.ontouchstart = () => {
const x = Math.random() * (window.innerWidth - 100);
const y = Math.random() * (window.innerHeight - 50);
noBtn.style.position = 'fixed';
noBtn.style.left = x + 'px';
noBtn.style.top = y + 'px';
};

yesBtn.onclick = () => {
if (audioCtx.state === 'suspended') audioCtx.resume();
triggerHaptics();
song.play();
p1.style.opacity = '0';
setTimeout(() => {
p1.style.display = 'none';
p2.style.display = 'flex';
setTimeout(() => { 
p2.style.opacity = '1'; 
document.body.style.overflowY = 'auto';
initScratch();
startPetals();
}, 50);
}, 800);
};

const start = new Date("March 25, 2021 00:00:00").getTime();
setInterval(() => {
const diff = new Date().getTime() - start;
document.getElementById('d').innerText = Math.floor(diff / 86400000);
document.getElementById('h').innerText = Math.floor((diff % 86400000) / 3600000);
document.getElementById('m').innerText = Math.floor((diff % 3600000) / 60000);
document.getElementById('s').innerText = Math.floor((diff % 60000) / 1000);
}, 1000);

function initScratch() {
const cvs = document.getElementById('scratch-canvas');
const ctx = cvs.getContext('2d');
const box = cvs.parentElement;
cvs.width = box.offsetWidth;
cvs.height = box.offsetHeight;

ctx.fillStyle = '#333'; ctx.fillRect(0,0,cvs.width,cvs.height);
ctx.fillStyle = '#ff2d75'; ctx.font = "bold 16px Poppins"; ctx.textAlign = "center";
ctx.fillText("SCRATCH ME ‚ù§Ô∏è", cvs.width/2, cvs.height/2);

let painting = false;
const scratch = (e) => {
if(!painting) return;
e.preventDefault();
const r = cvs.getBoundingClientRect();
const clientX = e.touches ? e.touches[0].clientX : e.clientX;
const clientY = e.touches ? e.touches[0].clientY : e.clientY;
const x = clientX - r.left;
const y = clientY - r.top;
ctx.globalCompositeOperation = 'destination-out';
ctx.beginPath(); ctx.arc(x, y, 25, 0, Math.PI*2); ctx.fill();
}
['mousedown', 'touchstart'].forEach(evt => cvs.addEventListener(evt, () => painting = true));
['mouseup', 'touchend'].forEach(evt => cvs.addEventListener(evt, () => painting = false));
['mousemove', 'touchmove'].forEach(evt => cvs.addEventListener(evt, scratch));
}

function startPetals() {
const icons = ['üå∏', 'üåπ', 'üíñ'];
setInterval(() => {
const p = document.createElement('div');
p.className = 'petal';
p.innerText = icons[Math.floor(Math.random()*icons.length)];
p.style.left = Math.random() * 100 + 'vw';
p.style.fontSize = (Math.random() * 15 + 15) + 'px';
document.body.appendChild(p);
setTimeout(() => p.remove(), 5000);
}, 400);
}

const canvas = document.getElementById('starfield');
const c = canvas.getContext('2d');
window.onresize = () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; };
window.onresize();
let stars = Array(100).fill().map(() => ({x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*1.2}));
function animate() {
c.clearRect(0,0,canvas.width,canvas.height); c.fillStyle = "white";
stars.forEach(s => { c.beginPath(); c.arc(s.x, s.y, s.r, 0, 7); c.fill(); s.y -= 0.3; if(s.y<0) s.y=canvas.height; });
requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>